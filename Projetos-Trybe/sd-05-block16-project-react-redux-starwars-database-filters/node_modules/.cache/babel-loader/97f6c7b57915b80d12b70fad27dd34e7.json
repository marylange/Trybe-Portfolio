{"ast":null,"code":"var _jsxFileName = \"/Users/marylangeleal/Trybe-portfolio/sd-05-block16-project-react-redux-starwars-database-filters/src/components/HeaderPagina.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { filtrarPlanetsName } from '../actions/actionFilterPlanetsName';\nimport { filterValues } from '../actions/actionFilterPlanetsName';\nimport { removerFiltroDaTela } from '../actions/actionFilterPlanetsName';\nimport { ordenarColumns } from '../actions/actionFilterPlanetsName';\n/*\ncolumns representa a lista com todas as opções possíveis de coluna\n*/\n\nconst columns = ['Coluna', 'population', 'orbital_period', 'diameter', 'rotation_period', 'surface_water'];\nconst AllColumns = ['name', 'rotation_period', 'orbital_period', 'diameter', 'climate', 'gravity', 'terrain', 'surface_water', 'population', 'films', 'created', 'edited', 'url'];\nconst options = ['Comparação', 'maior que', 'menor que', 'igual a'];\n\nclass FiltrosDaPagina extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      column: '',\n      comparison: '',\n      value: 0,\n      isGoing: true\n    };\n    this.handleColumnChange = this.handleColumnChange.bind(this);\n    this.handleComparisonChange = this.handleComparisonChange.bind(this);\n    this.handleValueChange = this.handleValueChange.bind(this);\n    this.handleSelectOrderColumn = this.handleSelectOrderColumn.bind(this);\n    this.handleSortChange = this.handleSortChange.bind(this);\n  }\n\n  handleColumnChange(event) {\n    this.setState({\n      column: event.target.value\n    });\n  }\n\n  handleComparisonChange(event) {\n    this.setState({\n      comparison: event.target.value\n    });\n  }\n\n  handleValueChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n  }\n\n  showFilters(filters) {\n    const dispatchRemoverFiltroDaTela = this.props.dispatchRemoverFiltroDaTela;\n    console.log('showFilters', filters);\n    const teste = filters.map(element => React.createElement(\"div\", {\n      \"data-testid\": \"filter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => dispatchRemoverFiltroDaTela(element.column),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"X\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, element.column, \" \", element.comparison, \" \", element.value)));\n    return teste;\n  }\n\n  renderColumnOption(column) {\n    return React.createElement(\"option\", {\n      value: column,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, column);\n  }\n\n  columnOptions(filtrosAtivosDeComparacaoColunasEValor) {\n    console.log(\"coisa\", filtrosAtivosDeComparacaoColunasEValor);\n    const colunasAtivosDeComparacaoColunasEValor = filtrosAtivosDeComparacaoColunasEValor.map(filter => filter.column);\n    const colunasASeremExibidas = columns.filter(column => colunasAtivosDeComparacaoColunasEValor.includes(column));\n    return colunasASeremExibidas.map(column => this.renderColumnOption(column));\n  }\n  /*\n  {columns\n    .filter((option) => !filters.map((filter) => filter.column).includes(option))\n    .map((option) => <option value={option}>{option}</option>)\n  }\n  O primeiro map da função renderColumns faz a filtragem do state de\n  filters(column: action.column, comparison: action.comparison, value: action.value),\n  retirando somente column. O segundo filter retira\n  de columns(array que foi declarado acima)a opção que incluso em currentFilterColumns e\n  o terceiro map cria options para cada coluna restante\n  */\n\n\n  rederSelects() {\n    const filters = this.props.filters;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      \"data-testid\": \"column-filter\",\n      value: this.state.column,\n      onChange: this.handleColumnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, this.columnOptions(filters)), React.createElement(\"select\", {\n      \"data-testid\": \"comparison-filter\",\n      onChange: this.handleComparisonChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, options.filter(option => !filters.map(filter => filter.column).includes(option)).map(option => React.createElement(\"option\", {\n      value: option,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, option))));\n  }\n\n  renderProcurar() {\n    const dispatchSearch = this.props.dispatchSearch;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Procurar: \"), React.createElement(\"input\", {\n      type: \"text\",\n      \"data-testid\": \"name-filter\",\n      onChange: event => dispatchSearch(event.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }));\n  }\n\n  renderFiltrosValoresNum() {\n    const dispatchFilterValues = this.props.dispatchFilterValues;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, this.rederSelects(), React.createElement(\"input\", {\n      type: \"number\",\n      \"data-testid\": \"value-filter\",\n      onChange: this.handleValueChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      \"data-testid\": \"button-filter\",\n      onClick: () => dispatchFilterValues(this.state.column, this.state.comparison, this.state.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Filtrar\"));\n  }\n\n  handleSelectOrderColumn(event) {\n    this.setState({\n      column: event.target.column\n    });\n  }\n\n  handleSortChange(event) {\n    this.setState({\n      order: event.target.value\n    });\n    console.log(\"state\", this.state);\n  }\n\n  renderFiltersOrder() {\n    const _this$props = this.props,\n          dispatchOrdenarColumns = _this$props.dispatchOrdenarColumns,\n          stateToPropsSort = _this$props.stateToPropsSort;\n    console.log('stateToPropsSort', stateToPropsSort);\n    return React.createElement(\"div\", {\n      className: \"order\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Ordem\"), React.createElement(\"select\", {\n      \"data-testid\": \"column-sort\",\n      onChange: this.handleSelectOrderColumn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, AllColumns.map(option => React.createElement(\"option\", {\n      value: option,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, option))), React.createElement(\"label\", {\n      htmlFor: \"ASC\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"ASC\",\n      value: \"ASC\",\n      \"data-testid\": \"column-sort-input\",\n      checked: this.state.order === \"ASC\",\n      onChange: this.handleSortChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), \"ASC\"), React.createElement(\"label\", {\n      htmlFor: \"DESC\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      id: \"DESC\",\n      value: \"DESC\",\n      \"data-testid\": \"column-sort-input\",\n      checked: this.state.order === \"DESC\",\n      onChange: this.handleSortChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }), \"DESC\"), React.createElement(\"button\", {\n      \"data-testid\": \"column-sort-button\",\n      onClick: () => dispatchOrdenarColumns(this.state.column, this.state.sort),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Filtrar\"));\n  }\n\n  render() {\n    const filters = this.props.filters;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, this.renderProcurar(), this.renderFiltrosValoresNum(), this.renderFiltersOrder(), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"Filtros \", this.showFilters(filters))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log('filterByNumericValues', state);\n  return {\n    data: state.planetsReducer.data,\n    filters: state.filters.filterByNumericValues,\n    stateToPropsSort: state.filters.sort\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  dispatchSearch: name => dispatch(filtrarPlanetsName(name)),\n  dispatchFilterValues: (column, comparison, value) => dispatch(filterValues(column, comparison, value)),\n  dispatchRemoverFiltroDaTela: column => dispatch(removerFiltroDaTela(column)),\n  dispatchOrdenarColumns: (column, sort) => dispatch(ordenarColumns(column, sort))\n});\n\nFiltrosDaPagina.propTypes = {\n  dispatchSearch: PropTypes.func.isRequired,\n  dispatchFilterValues: PropTypes.func.isRequired,\n  filters: PropTypes.func.isRequired,\n  dispatchRemoverFiltroDaTela: PropTypes.func.isRequired,\n  dispatchOrdenarColumns: PropTypes.func.isRequired\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(FiltrosDaPagina);","map":{"version":3,"sources":["/Users/marylangeleal/Trybe-portfolio/sd-05-block16-project-react-redux-starwars-database-filters/src/components/HeaderPagina.js"],"names":["React","connect","PropTypes","filtrarPlanetsName","filterValues","removerFiltroDaTela","ordenarColumns","columns","AllColumns","options","FiltrosDaPagina","Component","constructor","props","state","column","comparison","value","isGoing","handleColumnChange","bind","handleComparisonChange","handleValueChange","handleSelectOrderColumn","handleSortChange","event","setState","target","showFilters","filters","dispatchRemoverFiltroDaTela","console","log","teste","map","element","renderColumnOption","columnOptions","filtrosAtivosDeComparacaoColunasEValor","colunasAtivosDeComparacaoColunasEValor","filter","colunasASeremExibidas","includes","rederSelects","option","renderProcurar","dispatchSearch","renderFiltrosValoresNum","dispatchFilterValues","order","renderFiltersOrder","dispatchOrdenarColumns","stateToPropsSort","sort","render","mapStateToProps","data","planetsReducer","filterByNumericValues","mapDispatchToProps","dispatch","name","propTypes","func","isRequired"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,kBAAT,QAAmC,oCAAnC;AACA,SAASC,YAAT,QAA6B,oCAA7B;AACA,SAASC,mBAAT,QAAoC,oCAApC;AACA,SAASC,cAAT,QAA+B,oCAA/B;AACA;;;;AAIA,MAAMC,OAAO,GAAG,CACd,QADc,EAEd,YAFc,EAGd,gBAHc,EAId,UAJc,EAKd,iBALc,EAMd,eANc,CAAhB;AASA,MAAMC,UAAU,GAAG,CACjB,MADiB,EAEjB,iBAFiB,EAGjB,gBAHiB,EAIjB,UAJiB,EAKjB,SALiB,EAMjB,SANiB,EAOjB,SAPiB,EAQjB,eARiB,EASjB,YATiB,EAUjB,OAViB,EAWjB,SAXiB,EAYjB,QAZiB,EAajB,KAbiB,CAAnB;AAgBA,MAAMC,OAAO,GAAG,CACd,YADc,EAEd,WAFc,EAGd,WAHc,EAId,SAJc,CAAhB;;AAOA,MAAMC,eAAN,SAA8BV,KAAK,CAACW,SAApC,CAA8C;AAC5CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE,EADG;AAEXC,MAAAA,UAAU,EAAE,EAFD;AAGXC,MAAAA,KAAK,EAAE,CAHI;AAIXC,MAAAA,OAAO,EAAE;AAJE,KAAb;AAMA,SAAKC,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBC,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKC,sBAAL,GAA8B,KAAKA,sBAAL,CAA4BD,IAA5B,CAAiC,IAAjC,CAA9B;AACA,SAAKE,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBF,IAAvB,CAA4B,IAA5B,CAAzB;AACA,SAAKG,uBAAL,GAA+B,KAAKA,uBAAL,CAA6BH,IAA7B,CAAkC,IAAlC,CAA/B;AACA,SAAKI,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBJ,IAAtB,CAA2B,IAA3B,CAAxB;AACD;;AAEDD,EAAAA,kBAAkB,CAACM,KAAD,EAAQ;AACxB,SAAKC,QAAL,CAAc;AAAEX,MAAAA,MAAM,EAAEU,KAAK,CAACE,MAAN,CAAaV;AAAvB,KAAd;AACD;;AAEDI,EAAAA,sBAAsB,CAACI,KAAD,EAAQ;AAC5B,SAAKC,QAAL,CAAc;AAAEV,MAAAA,UAAU,EAAES,KAAK,CAACE,MAAN,CAAaV;AAA3B,KAAd;AACD;;AAEDK,EAAAA,iBAAiB,CAACG,KAAD,EAAQ;AACvB,SAAKC,QAAL,CAAc;AAAET,MAAAA,KAAK,EAAEQ,KAAK,CAACE,MAAN,CAAaV;AAAtB,KAAd;AACD;;AAEDW,EAAAA,WAAW,CAACC,OAAD,EAAU;AAAA,UACXC,2BADW,GACqB,KAAKjB,KAD1B,CACXiB,2BADW;AAEnBC,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BH,OAA3B;AACA,UAAMI,KAAK,GAAGJ,OAAO,CAACK,GAAR,CAAaC,OAAD,IACxB;AAAK,qBAAY,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,OAAO,EAAE,MAAML,2BAA2B,CAACK,OAAO,CAACpB,MAAT,CAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIoB,OAAO,CAACpB,MAAZ,OAAqBoB,OAAO,CAACnB,UAA7B,OAA0CmB,OAAO,CAAClB,KAAlD,CAFF,CADY,CAAd;AAMA,WAAOgB,KAAP;AACD;;AAEDG,EAAAA,kBAAkB,CAACrB,MAAD,EAAS;AACzB,WAAO;AAAQ,MAAA,KAAK,EAAEA,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwBA,MAAxB,CAAP;AACD;;AAEDsB,EAAAA,aAAa,CAACC,sCAAD,EAAyC;AACpDP,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBM,sCAArB;AACA,UAAMC,sCAAsC,GAAGD,sCAAsC,CAACJ,GAAvC,CAA4CM,MAAD,IAAYA,MAAM,CAACzB,MAA9D,CAA/C;AACA,UAAM0B,qBAAqB,GAAGlC,OAAO,CAACiC,MAAR,CAAgBzB,MAAD,IAAYwB,sCAAsC,CAACG,QAAvC,CAAgD3B,MAAhD,CAA3B,CAA9B;AAEA,WAAO0B,qBAAqB,CAACP,GAAtB,CAA2BnB,MAAD,IAAY,KAAKqB,kBAAL,CAAwBrB,MAAxB,CAAtC,CAAP;AACD;AAED;;;;;;;;;;;;;AAYA4B,EAAAA,YAAY,GAAG;AAAA,UACLd,OADK,GACO,KAAKhB,KADZ,CACLgB,OADK;AAEb,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,qBAAY,eADd;AAEE,MAAA,KAAK,EAAE,KAAKf,KAAL,CAAWC,MAFpB;AAGE,MAAA,QAAQ,EAAE,KAAKI,kBAHjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAKG,KAAKkB,aAAL,CAAmBR,OAAnB,CALH,CADF,EAQE;AACE,qBAAY,mBADd;AAEE,MAAA,QAAQ,EAAE,KAAKR,sBAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIGZ,OAAO,CACL+B,MADF,CACUI,MAAD,IAAY,CAACf,OAAO,CAACK,GAAR,CAAaM,MAAD,IAAYA,MAAM,CAACzB,MAA/B,EAAuC2B,QAAvC,CAAgDE,MAAhD,CADtB,EAEEV,GAFF,CAEOU,MAAD,IAAY;AAAQ,MAAA,KAAK,EAAEA,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwBA,MAAxB,CAFlB,CAJH,CARF,CADF;AAmBD;;AAEDC,EAAAA,cAAc,GAAG;AAAA,UACPC,cADO,GACY,KAAKjC,KADjB,CACPiC,cADO;AAEf,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,qBAAY,aAFd;AAGE,MAAA,QAAQ,EAAGrB,KAAD,IAAWqB,cAAc,CAACrB,KAAK,CAACE,MAAN,CAAaV,KAAd,CAHrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADF;AAUD;;AAED8B,EAAAA,uBAAuB,GAAG;AAAA,UAChBC,oBADgB,GACS,KAAKnC,KADd,CAChBmC,oBADgB;AAExB,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKL,YAAL,EADH,EAEE;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,qBAAY,cAAjC;AAAgD,MAAA,QAAQ,EAAE,KAAKrB,iBAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE;AACE,qBAAY,eADd;AAEE,MAAA,OAAO,EACL,MAAM0B,oBAAoB,CACxB,KAAKlC,KAAL,CAAWC,MADa,EAExB,KAAKD,KAAL,CAAWE,UAFa,EAGxB,KAAKF,KAAL,CAAWG,KAHa,CAH9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHF,CADF;AAeD;;AAEDM,EAAAA,uBAAuB,CAACE,KAAD,EAAQ;AAC7B,SAAKC,QAAL,CAAc;AAAEX,MAAAA,MAAM,EAAEU,KAAK,CAACE,MAAN,CAAaZ;AAAvB,KAAd;AACD;;AAEDS,EAAAA,gBAAgB,CAACC,KAAD,EAAQ;AACtB,SAAKC,QAAL,CAAc;AAAEuB,MAAAA,KAAK,EAAExB,KAAK,CAACE,MAAN,CAAaV;AAAtB,KAAd;AACAc,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB,KAAKlB,KAA1B;AACD;;AAEDoC,EAAAA,kBAAkB,GAAG;AAAA,wBACkC,KAAKrC,KADvC;AAAA,UACXsC,sBADW,eACXA,sBADW;AAAA,UACaC,gBADb,eACaA,gBADb;AAEnBrB,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAA+BoB,gBAA/B;AACA,WACE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE;AAAQ,qBAAY,aAApB;AAAkC,MAAA,QAAQ,EAAE,KAAK7B,uBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGf,UAAU,CAAC0B,GAAX,CAAgBU,MAAD,IAAY;AAAQ,MAAA,KAAK,EAAEA,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwBA,MAAxB,CAA3B,CADH,CAFF,EAKE;AAAO,MAAA,OAAO,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,EAAE,EAAC,KAFL;AAGE,MAAA,KAAK,EAAC,KAHR;AAIE,qBAAY,mBAJd;AAKE,MAAA,OAAO,EAAE,KAAK9B,KAAL,CAAWmC,KAAX,KAAqB,KALhC;AAME,MAAA,QAAQ,EAAE,KAAKzB,gBANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,QALF,EAeE;AAAO,MAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,EAAE,EAAC,MAFL;AAGE,MAAA,KAAK,EAAC,MAHR;AAIE,qBAAY,mBAJd;AAKE,MAAA,OAAO,EAAE,KAAKV,KAAL,CAAWmC,KAAX,KAAqB,MALhC;AAME,MAAA,QAAQ,EAAE,KAAKzB,gBANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,SAfF,EAyBE;AACE,qBAAY,oBADd;AAEE,MAAA,OAAO,EAAE,MAAM2B,sBAAsB,CACnC,KAAKrC,KAAL,CAAWC,MADwB,EAEnC,KAAKD,KAAL,CAAWuC,IAFwB,CAFvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAzBF,CADF;AAmCD;;AAEDC,EAAAA,MAAM,GAAG;AAAA,UACCzB,OADD,GACa,KAAKhB,KADlB,CACCgB,OADD;AAEP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKgB,cAAL,EADH,EAEG,KAAKE,uBAAL,EAFH,EAGG,KAAKG,kBAAL,EAHH,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAY,KAAKtB,WAAL,CAAiBC,OAAjB,CAAZ,CADF,CAJF,CADF;AAUD;;AArL2C;;AAwL9C,MAAM0B,eAAe,GAAIzC,KAAD,IAAW;AACjCiB,EAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqClB,KAArC;AACA,SAAO;AACL0C,IAAAA,IAAI,EAAE1C,KAAK,CAAC2C,cAAN,CAAqBD,IADtB;AAEL3B,IAAAA,OAAO,EAAEf,KAAK,CAACe,OAAN,CAAc6B,qBAFlB;AAGLN,IAAAA,gBAAgB,EAAEtC,KAAK,CAACe,OAAN,CAAcwB;AAH3B,GAAP;AAKD,CAPD;;AASA,MAAMM,kBAAkB,GAAIC,QAAD,KAAe;AACxCd,EAAAA,cAAc,EAAGe,IAAD,IAAUD,QAAQ,CAACzD,kBAAkB,CAAC0D,IAAD,CAAnB,CADM;AAExCb,EAAAA,oBAAoB,EAAE,CACpBjC,MADoB,EAEpBC,UAFoB,EAGpBC,KAHoB,KAIjB2C,QAAQ,CAACxD,YAAY,CAACW,MAAD,EAASC,UAAT,EAAqBC,KAArB,CAAb,CAN2B;AAOxCa,EAAAA,2BAA2B,EAAGf,MAAD,IAAY6C,QAAQ,CAACvD,mBAAmB,CAACU,MAAD,CAApB,CAPT;AAQxCoC,EAAAA,sBAAsB,EAAE,CAACpC,MAAD,EAASsC,IAAT,KAAkBO,QAAQ,CAACtD,cAAc,CAACS,MAAD,EAASsC,IAAT,CAAf;AARV,CAAf,CAA3B;;AAWA3C,eAAe,CAACoD,SAAhB,GAA4B;AAC1BhB,EAAAA,cAAc,EAAE5C,SAAS,CAAC6D,IAAV,CAAeC,UADL;AAE1BhB,EAAAA,oBAAoB,EAAE9C,SAAS,CAAC6D,IAAV,CAAeC,UAFX;AAG1BnC,EAAAA,OAAO,EAAE3B,SAAS,CAAC6D,IAAV,CAAeC,UAHE;AAI1BlC,EAAAA,2BAA2B,EAAE5B,SAAS,CAAC6D,IAAV,CAAeC,UAJlB;AAK1Bb,EAAAA,sBAAsB,EAAEjD,SAAS,CAAC6D,IAAV,CAAeC;AALb,CAA5B;AAQA,eAAe/D,OAAO,CAACsD,eAAD,EAAkBI,kBAAlB,CAAP,CAA6CjD,eAA7C,CAAf","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { filtrarPlanetsName } from '../actions/actionFilterPlanetsName';\nimport { filterValues } from '../actions/actionFilterPlanetsName';\nimport { removerFiltroDaTela } from '../actions/actionFilterPlanetsName';\nimport { ordenarColumns } from '../actions/actionFilterPlanetsName';\n/*\ncolumns representa a lista com todas as opções possíveis de coluna\n*/\n\nconst columns = [\n  'Coluna',\n  'population',\n  'orbital_period',\n  'diameter',\n  'rotation_period',\n  'surface_water',\n];\n\nconst AllColumns = [\n  'name',\n  'rotation_period',\n  'orbital_period',\n  'diameter',\n  'climate',\n  'gravity',\n  'terrain',\n  'surface_water',\n  'population',\n  'films',\n  'created',\n  'edited',\n  'url',\n];\n\nconst options = [\n  'Comparação',\n  'maior que',\n  'menor que',\n  'igual a',\n];\n\nclass FiltrosDaPagina extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      column: '',\n      comparison: '',\n      value: 0,\n      isGoing: true,\n    };\n    this.handleColumnChange = this.handleColumnChange.bind(this);\n    this.handleComparisonChange = this.handleComparisonChange.bind(this);\n    this.handleValueChange = this.handleValueChange.bind(this);\n    this.handleSelectOrderColumn = this.handleSelectOrderColumn.bind(this);\n    this.handleSortChange = this.handleSortChange.bind(this);\n  }\n\n  handleColumnChange(event) {\n    this.setState({ column: event.target.value });\n  }\n\n  handleComparisonChange(event) {\n    this.setState({ comparison: event.target.value });\n  }\n\n  handleValueChange(event) {\n    this.setState({ value: event.target.value });\n  }\n\n  showFilters(filters) {\n    const { dispatchRemoverFiltroDaTela } = this.props;\n    console.log('showFilters', filters);\n    const teste = filters.map((element) =>\n      <div data-testid=\"filter\">\n        <button onClick={() => dispatchRemoverFiltroDaTela(element.column)}>X</button>\n        <p>{element.column} {element.comparison} {element.value}</p>\n      </div>,\n    );\n    return teste;\n  }\n\n  renderColumnOption(column) {\n    return <option value={column}>{column}</option>;\n  }\n\n  columnOptions(filtrosAtivosDeComparacaoColunasEValor) {\n    console.log(\"coisa\", filtrosAtivosDeComparacaoColunasEValor);\n    const colunasAtivosDeComparacaoColunasEValor = filtrosAtivosDeComparacaoColunasEValor.map((filter) => filter.column);\n    const colunasASeremExibidas = columns.filter((column) => colunasAtivosDeComparacaoColunasEValor.includes(column));\n\n    return colunasASeremExibidas.map((column) => this.renderColumnOption(column))\n  }\n\n  /*\n  {columns\n    .filter((option) => !filters.map((filter) => filter.column).includes(option))\n    .map((option) => <option value={option}>{option}</option>)\n  }\n  O primeiro map da função renderColumns faz a filtragem do state de\n  filters(column: action.column, comparison: action.comparison, value: action.value),\n  retirando somente column. O segundo filter retira\n  de columns(array que foi declarado acima)a opção que incluso em currentFilterColumns e\n  o terceiro map cria options para cada coluna restante\n  */\n\n  rederSelects() {\n    const { filters } = this.props;\n    return (\n      <div>\n        <select\n          data-testid=\"column-filter\"\n          value={this.state.column}\n          onChange={this.handleColumnChange}\n        >\n          {this.columnOptions(filters)}\n        </select>\n        <select\n          data-testid=\"comparison-filter\"\n          onChange={this.handleComparisonChange}\n        >\n          {options\n            .filter((option) => !filters.map((filter) => filter.column).includes(option))\n            .map((option) => <option value={option}>{option}</option>)}\n        </select>\n      </div>\n    );\n  }\n\n  renderProcurar() {\n    const { dispatchSearch } = this.props;\n    return (\n      <div>\n        <label htmlFor=\"search\">Procurar: </label>\n        <input\n          type=\"text\"\n          data-testid=\"name-filter\"\n          onChange={(event) => dispatchSearch(event.target.value)}\n        />\n      </div>\n    );\n  }\n\n  renderFiltrosValoresNum() {\n    const { dispatchFilterValues } = this.props;\n    return (\n      <div>\n        {this.rederSelects()}\n        <input type=\"number\" data-testid=\"value-filter\" onChange={this.handleValueChange} />\n        <button\n          data-testid=\"button-filter\"\n          onClick={\n            () => dispatchFilterValues(\n              this.state.column,\n              this.state.comparison,\n              this.state.value,\n            )}\n        >Filtrar</button>\n      </div>\n    );\n  }\n\n  handleSelectOrderColumn(event) {\n    this.setState({ column: event.target.column });\n  }\n\n  handleSortChange(event) {\n    this.setState({ order: event.target.value });\n    console.log(\"state\", this.state);\n  }\n\n  renderFiltersOrder() {\n    const { dispatchOrdenarColumns, stateToPropsSort } = this.props;\n    console.log('stateToPropsSort',stateToPropsSort)\n    return (\n      <div className=\"order\">\n        <p>Ordem</p>\n        <select data-testid=\"column-sort\" onChange={this.handleSelectOrderColumn}>\n          {AllColumns.map((option) => <option value={option}>{option}</option>)}\n        </select>\n        <label htmlFor=\"ASC\">\n          <input\n            type=\"radio\"\n            id=\"ASC\"\n            value=\"ASC\"\n            data-testid=\"column-sort-input\"\n            checked={this.state.order === \"ASC\"}\n            onChange={this.handleSortChange}\n          />ASC\n          </label>\n        <label htmlFor=\"DESC\">\n          <input\n            type=\"radio\"\n            id=\"DESC\"\n            value=\"DESC\"\n            data-testid=\"column-sort-input\"\n            checked={this.state.order === \"DESC\"}\n            onChange={this.handleSortChange}\n          />DESC\n          </label>\n        <button\n          data-testid=\"column-sort-button\"\n          onClick={() => dispatchOrdenarColumns(\n            this.state.column,\n            this.state.sort,\n          )}\n        >Filtrar</button>\n      </div>\n    );\n  }\n\n  render() {\n    const { filters } = this.props;\n    return (\n      <div>\n        {this.renderProcurar()}\n        {this.renderFiltrosValoresNum()}\n        {this.renderFiltersOrder()}\n        <div>\n          <p>Filtros {this.showFilters(filters)}</p>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  console.log('filterByNumericValues', state);\n  return {\n    data: state.planetsReducer.data,\n    filters: state.filters.filterByNumericValues,\n    stateToPropsSort: state.filters.sort,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  dispatchSearch: (name) => dispatch(filtrarPlanetsName(name)),\n  dispatchFilterValues: (\n    column,\n    comparison,\n    value,\n  ) => dispatch(filterValues(column, comparison, value)),\n  dispatchRemoverFiltroDaTela: (column) => dispatch(removerFiltroDaTela(column)),\n  dispatchOrdenarColumns: (column, sort) => dispatch(ordenarColumns(column, sort)),\n});\n\nFiltrosDaPagina.propTypes = {\n  dispatchSearch: PropTypes.func.isRequired,\n  dispatchFilterValues: PropTypes.func.isRequired,\n  filters: PropTypes.func.isRequired,\n  dispatchRemoverFiltroDaTela: PropTypes.func.isRequired,\n  dispatchOrdenarColumns: PropTypes.func.isRequired,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FiltrosDaPagina);\n"]},"metadata":{},"sourceType":"module"}